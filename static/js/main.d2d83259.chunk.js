(this["webpackJsonpevent-diary"]=this["webpackJsonpevent-diary"]||[]).push([[0],{31:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(1),o=t.n(n),c=t(11),r=t.n(c),l=t(13),s=t(4),i=(t(31),t(0)),d=function(){return Object(i.jsxs)("header",{className:"header",children:[Object(i.jsxs)(l.b,{className:"logo-link",to:"/",children:[Object(i.jsx)("div",{className:"logo-img-wrapper ",children:Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGWSURBVHgB3VaLUYQwEA1UQAeHHVACJdCBZwWHHdCBdgBWcF4FlIAdgBWgFawbSXRZ8uMz44xvZue48LJvs9ksiYQFAJDgjzQRRdEgjgI6PqO1MMeIVqOlYitkxAbHYBC6F1uAEzvmrFdRtwahfI1vnRYaZc7ep2hXxknWCPQh0bHVlCIESMzIpNbDzQn3FaZ9k6uvpKD0ZZpUkEmV8AdE0zTCEjKVqebHQtX6BvycE4YCrdUisdiPBu0B7RFtUGMpWv39BPMKqnzeWDpK9i5laUv2rOADW8gzHVAt5YUM5bsEAsaTI/bAib8TUOdjDDh8mve0SkBM9SzrXJ7ek4N3UbzSxJMCb+T/yRNtJlZCCgzid+cLcH9ULuTZ1gFokEOMtSud38ikq0kEpg/NmQrAsqPeoeVUQE/mJ7CHeQvvwI7R8lzzCDMwd0eORpkLPZhSDdNKGkekJeFWFl4LvssBLD+RcvMTC4+mr+Ac4zlQTeuTDHWqGEw8Ot4FCRyJ/y2gW8iAuX538G6BvCVgupZ4LwWqmoy8L2oHvSBONVyOAAAAAElFTkSuQmCC",className:"logo",alt:"logo"})}),Object(i.jsx)("h1",{children:"Diary"})]}),Object(i.jsxs)("div",{className:"header-btn-wrapper",children:[Object(i.jsx)(l.b,{to:"/",className:"btn-common-styles notes-btn",children:"Notes"}),Object(i.jsx)(l.b,{className:"btn-common-styles add-note-btn",to:"/new-note",children:"Add Note"})]})]})},m=t(5),u=["\ud83d\ude35\ufe0f","\ud83d\ude43","\ud83d\ude11","\ud83e\udd14","\ud83e\udd24","\ud83d\ude07","\ud83e\udd24","\ud83d\ude30","\ud83d\ude0c","\ud83d\ude06","\ud83d\ude00"],h="NEW_NAME",j="NEW_MOOD",g="NEW_DATE",p="NEW_DESCRIPTION",b="NEW_IMG_DATA",O="VALIDATE_NAME",f="VALIDATE_PHOTO",N="CLEAR_FORM",A="NEW_SEARCH_VALUE",v="FETCH_IMAGES_STARTED",x="FETCH_IMAGES_SUCCESS",D="FETCH_IMAGES_FAILURE",w="LOAD_LOCAL_DATA",y="SAVE_LOCAL_DATA",C="DELETE_FROM_LOCAL_NOTES",E="ADD_FILTER_NAME",S="ADD_FILTER_MOOD",I="OPEN_MODAL",V="CLOSE_MODAL",L="ADD_MODAL_DATA",M=t(15),_=t.n(M),T=t(22),F=function(e){return{type:x,payload:e}},P=function(){return function(){var e=Object(T.a)(_.a.mark((function e(a){var t,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(t=localStorage.getItem("localNotes"))){e.next=4;break}return e.abrupt("return",void 0);case 4:n=JSON.parse(t),a({type:w,payload:n}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()},U=Object(m.b)(null,(function(e){return{addFilterMood:function(a){e({type:S,payload:a})}}}))((function(e){var a=e.addFilterMood;return Object(i.jsxs)("select",{className:"nav-select select-common-styles",name:j,onChange:function(e){a(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"\ud83c\udf1a"}),u.map((function(e,a){return Object(i.jsx)("option",{name:j,value:e,className:"mood",children:e},a)}))]})})),k=Object(m.b)((function(e){return{filterName:e.filterNotes.filterName}}),(function(e){return{addFilterName:function(a){e({type:E,payload:a})}}}))((function(e){var a=e.addFilterName,t=e.filterName;return Object(i.jsxs)("div",{className:"nav",children:[Object(i.jsx)("input",{className:"search input-common-styles",name:"searchByName",value:t,placeholder:"Search",onChange:function(e){a(e.target.value)},autoComplete:"off"}),Object(i.jsx)(U,{})]})})),R=(t(39),Object(m.b)((function(e){return{isOpen:e.modalData.isOpen,modalMood:e.modalData.defaultValue.modalMood,modalName:e.modalData.defaultValue.modalName,modalDate:e.modalData.defaultValue.modalDate,modalImgUrl:e.modalData.defaultValue.modalImgUrl,modalImgAuthor:e.modalData.defaultValue.modalImgAuthor,modalDescription:e.modalData.defaultValue.modalDescription}}),(function(e){return{closeModal:function(){e({type:V})}}}))((function(e){var a=e.isOpen,t=e.modalMood,n=e.modalName,o=e.modalDate,c=e.modalImgUrl,l=e.modalImgAuthor,s=e.modalDescription,d=e.closeModal;return a?r.a.createPortal(Object(i.jsxs)("div",{className:"modal-wrapper",children:[Object(i.jsx)("div",{onClick:d,className:"modal-backdrop"}),Object(i.jsxs)("div",{className:"modal-box",children:[Object(i.jsx)("button",{onClick:function(){return d()},className:"modal-close"}),Object(i.jsxs)("div",{className:"modal-box-heading",children:[Object(i.jsx)("span",{className:"modal-mood",children:t}),Object(i.jsx)("span",{className:"modal-titel",children:n}),Object(i.jsx)("span",{className:"modal-date",children:o})]}),Object(i.jsxs)("div",{className:"modal-box-main",children:[Object(i.jsx)("div",{className:"modal-img-wrapper",children:Object(i.jsx)("img",{src:c,className:"modal-img",alt:l})}),Object(i.jsx)("p",{className:"modal-description",children:s})]})]})]}),document.getElementById("modal-root")):null}))),B=Object(m.b)((function(e){return{localNotes:e.localData.localNotes,filterName:e.filterNotes.filterName,filterMood:e.filterNotes.filterMood}}),(function(e){return{loadFromLocalStorage:function(){e(P())},deleteFromLocalNotes:function(a){e(function(e){return{type:C,payload:e}}(a))},openModal:function(){e({type:I})},addModalData:function(a){e(function(e){return{type:L,payload:e}}(a))}}}))((function(e){var a=e.localNotes,t=e.filterName,o=e.filterMood,c=e.loadFromLocalStorage,r=e.deleteFromLocalNotes,l=e.openModal,s=e.addModalData;Object(n.useEffect)((function(){0===a.length&&c()}),[a.length,c]);var d=a.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).filter((function(e){return e.mood.includes(o)})),m=function(e){e.stopPropagation();var t=parseInt(e.target.offsetParent.id),n=a.filter((function(e){return e.id!==t}));r(n)},u=[];u=0===t.length&&0===o.length?a:d;var h=function(e){var a=e.currentTarget.childNodes[1].innerText,t=e.currentTarget.lastChild.childNodes[0].innerText,n=e.currentTarget.lastChild.childNodes[1].innerText,o=e.currentTarget.childNodes[0].dataset.srclarge,c=e.currentTarget.childNodes[0].alt,r=e.currentTarget.lastChild.childNodes[2].innerText;s({modalMood:a,modalName:t,modalDate:n,modalImgUrl:o,modalImgAuthor:c,modalDescription:r}),l()};return Object(i.jsxs)("div",{className:"notes",children:[u.length?u.map((function(e,a){return Object(i.jsxs)("div",{id:e.id,className:"note",onClick:h,children:[Object(i.jsx)("img",{className:"note-img",width:"100%",height:"100%",alt:e.imgData.imgAuthor,src:e.imgData.imgUrl,"data-srclarge":e.imgData.imgSrcLarge}),e.mood?Object(i.jsx)("span",{className:"note-mood",children:e.mood}):"",Object(i.jsx)("span",{className:"note-delete",onClick:m}),Object(i.jsxs)("div",{className:"info-box",children:[Object(i.jsx)("span",{className:"info-titel",children:e.name}),Object(i.jsx)("span",{className:"info-date",children:e.date}),Object(i.jsx)("p",{className:"info-description",children:e.description})]})]},a)})):Object(i.jsx)("div",{className:"empty",children:"Nothing is found."}),Object(i.jsx)(R,{})]})})),Q=(t(40),function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsx)(k,{}),Object(i.jsx)(B,{})]})}),W=function(e){var a=e.handleChange;return Object(i.jsxs)("select",{className:"data-form-select select-common-styles",name:j,onChange:a,children:[Object(i.jsx)("option",{value:"",children:"\ud83c\udf1a"}),u.map((function(e,a){return Object(i.jsx)("option",{name:j,value:e,className:"mood",children:e},a)}))]})},H=function(e){var a=e.name,t=e.date,n=e.description,o=e.imgUrl,c=e.imgAuthor,r=e.isPhotoAdded,l=e.isNameValid,s=e.isPhotoValid,d=e.handleChange,m=e.handleFormSubmit;return Object(i.jsxs)("form",{className:"new-note-form",onSubmit:m,children:[Object(i.jsx)("input",{className:l?"new-note-name input-common-styles":"new-note-name input-common-styles required",type:"text",name:h,value:a,placeholder:"Name is required",onChange:d,autoComplete:"off"}),Object(i.jsx)(W,{handleChange:d}),Object(i.jsx)("input",{className:"new-note-date input-common-styles",type:"date",name:g,value:t,onChange:d}),Object(i.jsx)("textarea",{className:"new-note-description input-common-styles",type:"text",name:p,value:n,placeholder:"Description",onChange:d}),Object(i.jsxs)("div",{className:"form-btn-wrapper",children:[Object(i.jsx)("button",{className:"btn-common-styles clear-form-btn",type:"button",name:N,onClick:d,children:"clear form"}),Object(i.jsx)("button",{className:"btn-common-styles save-note-btn",type:"submit",children:"save"})]}),Object(i.jsx)("div",{className:"selected-photo-wrapper",children:r?Object(i.jsx)("div",{className:"selected-photo",children:Object(i.jsx)("img",{className:"new-note-photo",src:o,alt:c})}):Object(i.jsx)("p",{className:s?"warn-text":"warn-text required",children:"Photo is required"})})]})},z=(t(41),function(){return Object(i.jsx)("div",{className:"loader",children:Object(i.jsx)("div",{className:"lds-dual-ring"})})}),q=function(e){var a=e.images,t=e.handleOnImgClick;return Object(i.jsx)(i.Fragment,{children:a&&a.map((function(e){return Object(i.jsx)("div",{className:"new-note-photo-wrapper",children:Object(i.jsx)("img",{"data-id":e.id,src:e.src.medium,"data-srclarge":e.src.large,className:"new-note-photo",width:"100%",height:"100%",alt:"Provided by Pexels, photographer - ".concat(e.photographer),onClick:t})},e.id)}))})},J=Object(m.b)((function(e){return{imgUrl:e.newData.imgUrl,imgAuthor:e.newData.imgAuthor,imgId:e.newData.imgId,loading:e.fetchImages.loading,images:e.fetchImages.fetchedImages,searchQuery:e.fetchImages.searchQuery,searchValue:e.fetchImages.searchValue,localNotes:e.localData.localNotes}}),(function(e){return{fetchImages:function(a){e(function(e){var a="https://api.pexels.com/v1/search?query=".concat(e,"&orientation=landscape&page_1&per_page=20");return function(){var e=Object(T.a)(_.a.mark((function e(t){var n,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:v,payload:"start"}),e.next=4,fetch(a,{headers:{Authorization:"563492ad6f91700001000001c8655c6860ff444ca8f5073c762aa187"}});case 4:return n=e.sent,e.next=7,n.json();case 7:o=e.sent,t(F(o)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0),t((c=e.t0,{type:D,payload:c}));case 15:case"end":return e.stop()}var c}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()}(a))},loadFromLocalStorage:function(){e(P())}}}))((function(e){var a=e.loading,t=e.images,o=e.fetchImages,c=e.loadFromLocalStorage,r=e.handleChange,l=e.handleOnImgClick,s=e.searchQuery,d=e.searchValue,m=e.localNotes;Object(n.useEffect)((function(){0===m.length&&c(),0===d.length&&o(s)}),[m.length,d.length,c,o,s]);return Object(i.jsxs)("form",{className:"search-form",children:[Object(i.jsx)("input",{className:"new-note-search input-common-styles",type:"text",name:A,value:d,placeholder:"Search",onChange:r,autoComplete:"off",required:!0}),Object(i.jsx)("button",{className:"search-btn",onClick:function(e){e.preventDefault(),d.length&&o(d)}}),Object(i.jsxs)("div",{className:"new-note-photos",children:[a?Object(i.jsx)(z,{}):Object(i.jsx)("div",{className:"loader"}),Object(i.jsx)(q,{images:t,handleOnImgClick:l})]})]})})),X=(t(42),Object(m.b)((function(e){return{name:e.newData.name,mood:e.newData.mood,date:e.newData.date,description:e.newData.description,imgUrl:e.newData.imgData.imgUrl,imgAuthor:e.newData.imgData.imgAuthor,imgId:e.newData.imgData.imgId,imgSrcLarge:e.newData.imgData.imgSrcLarge,isPhotoAdded:e.newData.imgData.isPhotoAdded,localNotes:e.localData.notes,isNameValid:e.newData.isNameValid,isPhotoValid:e.newData.isPhotoValid}}),(function(e){return{addNewName:function(a){e({type:h,newValue:a})},addNewMood:function(a){e({type:j,newValue:a})},addNewDate:function(a){e({type:g,newValue:a})},addNewDescription:function(a){e({type:p,newValue:a})},addNewImgData:function(a){e({type:b,payload:a})},validateName:function(){e({type:O})},validatePhoto:function(){e({type:f})},clearFormData:function(){e({type:N})},addSearchValue:function(a){e({type:A,payload:a})},loadFromLocalStorage:function(){e(P())},saveToLocalStorage:function(a){e({type:y,payload:a})}}}))((function(e){var a=function(a){a.preventDefault();var t=a.target.name,n=a.target.value;switch(t){case h:e.addNewName(n),e.validateName();break;case j:return e.addNewMood(n);case g:return e.addNewDate(n);case p:return e.addNewDescription(n);case N:return e.clearFormData();case A:return e.addSearchValue(n.trimStart())}},t=function(){var e=Math.random().toString().split(".");return parseInt(e[1])};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"forms-wrapper",children:[Object(i.jsx)(H,{handleFormSubmit:function(a){if(a.preventDefault(),e.validateName(),e.validatePhoto(),e.name.length&&e.isPhotoAdded){var n={id:t(),name:e.name,mood:e.mood,date:e.date,description:e.description,imgData:{imgUrl:e.imgUrl,imgAuthor:e.imgAuthor,imgSrcLarge:e.imgSrcLarge,isPhotoAdded:!1}};e.saveToLocalStorage(n),e.clearFormData()}},handleChange:a,name:e.name,date:e.date,description:e.description,imgUrl:e.imgUrl,imgAuthor:e.imgAuthor,isPhotoAdded:e.isPhotoAdded,isNameValid:e.isNameValid,isPhotoValid:e.isPhotoValid}),Object(i.jsx)(J,{handleChange:a,handleOnImgClick:function(a){a.preventDefault(),e.addNewImgData({imgUrl:a.target.src,imgAuthor:a.target.alt,imgSrcLarge:a.target.dataset.srclarge,isPhotoAdded:!0}),e.validatePhoto()}})]})]})}))),Z=(t(43),function(){return Object(i.jsxs)(l.a,{children:[Object(i.jsx)(s.a,{path:"/",exact:!0,component:Q}),Object(i.jsx)(s.a,{path:"/new-note",component:X})]})}),G=t(10),Y=t(2),K=(new Date).toISOString().substr(0,10).toString(),$={id:"",name:"",mood:"",date:K,description:"",imgData:{imgUrl:"",imgAuthor:"",imgSrcLarge:"",isPhotoAdded:!1},isNameValid:!0,isPhotoValid:!0},ee={fetchedImages:[],loading:!1,error:!1,searchQuery:"landscape",searchValue:""},ae=t(23),te={localNotes:[]},ne={filterName:"",filterMood:""},oe={isOpen:!1,defaultValue:{modalMood:"",modalName:"",modalDate:"",modalImgUrl:"",modalImgAuthor:"",modalDescription:""}},ce=Object(G.c)({newData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h:return Object(Y.a)(Object(Y.a)({},e),{},{name:a.newValue});case j:return Object(Y.a)(Object(Y.a)({},e),{},{mood:a.newValue});case g:return Object(Y.a)(Object(Y.a)({},e),{},{date:a.newValue});case p:return Object(Y.a)(Object(Y.a)({},e),{},{description:a.newValue});case b:return Object(Y.a)(Object(Y.a)({},e),{},{imgData:a.payload});case N:return Object(Y.a)(Object(Y.a)({},e),{},{id:"",name:"",mood:"",date:K,description:"",imgData:{imgUrl:"",imgAuthor:"",imgSrcLarge:"",isPhotoAdded:!1},isNameValid:!0,isPhotoValid:!0});case O:return e.name.length?Object(Y.a)(Object(Y.a)({},e),{},{isNameValid:!0}):Object(Y.a)(Object(Y.a)({},e),{},{isNameValid:!1});case f:return e.imgData.isPhotoAdded?Object(Y.a)(Object(Y.a)({},e),{},{isPhotoValid:!0}):Object(Y.a)(Object(Y.a)({},e),{},{isPhotoValid:!1});default:return e}},fetchImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case v:return Object(Y.a)(Object(Y.a)({},e),{},{loading:!0,error:!1});case x:var t=a.payload.photos;return Object(Y.a)(Object(Y.a)({},e),{},{fetchedImages:t,loading:!1,error:!1});case D:return{loading:!1,error:!0};case A:return Object(Y.a)(Object(Y.a)({},e),{},{searchValue:a.payload});default:return e}},localData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case w:return Object(Y.a)(Object(Y.a)({},e),{},{localNotes:a.payload.localNotes});case y:var t=JSON.stringify({localNotes:[].concat(Object(ae.a)(e.localNotes),[a.payload])});return localStorage.setItem("localNotes",t),Object(Y.a)(Object(Y.a)({},e),{},{localNotes:[].concat(Object(ae.a)(e.localNotes),[a.payload])});case C:var n=JSON.stringify({localNotes:a.payload});return a.payload.length?localStorage.setItem("localNotes",n):localStorage.clear(),Object(Y.a)(Object(Y.a)({},e),{},{localNotes:a.payload});default:return e}},filterNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(Y.a)(Object(Y.a)({},e),{},{filterName:a.payload});case S:return Object(Y.a)(Object(Y.a)({},e),{},{filterMood:a.payload});default:return e}},modalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case I:return Object(Y.a)(Object(Y.a)({},e),{},{isOpen:!0});case V:return Object(Y.a)(Object(Y.a)({},e),{},{isOpen:!1});case L:return Object(Y.a)(Object(Y.a)({},e),{},{defaultValue:a.payload});default:return e}}}),re=t(26),le=Object(G.e)(ce,Object(G.d)(Object(G.a)(re.a),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__():G.d));r.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(m.a,{store:le,children:Object(i.jsx)(Z,{})})}),document.getElementById("app-root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.d2d83259.chunk.js.map