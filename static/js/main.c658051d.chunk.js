(this["webpackJsonpevent-diary"]=this["webpackJsonpevent-diary"]||[]).push([[0],{31:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),r=a(11),c=a.n(r),l=a(13),s=a(4),i=(a(31),a(0)),d=function(){return Object(i.jsxs)("header",{className:"header",children:[Object(i.jsxs)(l.b,{className:"logo-link",to:"/",children:[Object(i.jsx)("div",{className:"logo-img-wrapper ",children:Object(i.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAeCAYAAAA2Lt7lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGWSURBVHgB3VaLUYQwEA1UQAeHHVACJdCBZwWHHdCBdgBWcF4FlIAdgBWgFawbSXRZ8uMz44xvZue48LJvs9ksiYQFAJDgjzQRRdEgjgI6PqO1MMeIVqOlYitkxAbHYBC6F1uAEzvmrFdRtwahfI1vnRYaZc7ep2hXxknWCPQh0bHVlCIESMzIpNbDzQn3FaZ9k6uvpKD0ZZpUkEmV8AdE0zTCEjKVqebHQtX6BvycE4YCrdUisdiPBu0B7RFtUGMpWv39BPMKqnzeWDpK9i5laUv2rOADW8gzHVAt5YUM5bsEAsaTI/bAib8TUOdjDDh8mve0SkBM9SzrXJ7ek4N3UbzSxJMCb+T/yRNtJlZCCgzid+cLcH9ULuTZ1gFokEOMtSud38ikq0kEpg/NmQrAsqPeoeVUQE/mJ7CHeQvvwI7R8lzzCDMwd0eORpkLPZhSDdNKGkekJeFWFl4LvssBLD+RcvMTC4+mr+Ac4zlQTeuTDHWqGEw8Ot4FCRyJ/y2gW8iAuX538G6BvCVgupZ4LwWqmoy8L2oHvSBONVyOAAAAAElFTkSuQmCC",className:"logo",alt:"logo"})}),Object(i.jsx)("h1",{children:"Diary"})]}),Object(i.jsxs)("div",{className:"header-btn-wrapper",children:[Object(i.jsx)(l.b,{to:"/",className:"btn-common-styles notes-btn",children:"Notes"}),Object(i.jsx)(l.b,{className:"btn-common-styles add-note-btn",to:"/new-note",children:"Add Note"})]})]})},m=a(5),u=["\ud83d\ude35\ufe0f","\ud83d\ude43","\ud83d\ude11","\ud83e\udd14","\ud83e\udd24","\ud83d\ude07","\ud83e\udd24","\ud83d\ude30","\ud83d\ude0c","\ud83d\ude06","\ud83d\ude00"],h="NEW_NAME",j="NEW_MOOD",p="NEW_DATE",g="NEW_DESCRIPTION",b="NEW_IMG_DATA",O="VALIDATE_NAME",N="VALIDATE_PHOTO",f="CLEAR_FORM",A="NEW_SEARCH_VALUE",v="FETCH_IMAGES_STARTED",x="FETCH_IMAGES_SUCCESS",y="FETCH_IMAGES_FAILURE",D="LOAD_LOCAL_DATA",w="SAVE_LOCAL_DATA",C="DELETE_FROM_LOCAL_NOTES",E="ADD_FILTER_NAME",S="ADD_FILTER_MOOD",I="CLEAR_FILTERS",L="OPEN_MODAL",M="CLOSE_MODAL",V="ADD_MODAL_DATA",_=a(15),T=a.n(_),F=a(22),P=function(e){return{type:x,payload:e}},U=function(){return function(){var e=Object(F.a)(T.a.mark((function e(t){var a,o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(a=localStorage.getItem("localNotes"))){e.next=4;break}return e.abrupt("return",void 0);case 4:o=JSON.parse(a),t({type:D,payload:o}),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},k={addFilterMood:function(e){return{type:S,payload:e}}},R=Object(m.b)(null,k)((function(e){var t=e.addFilterMood;return Object(i.jsxs)("select",{className:"filters-select select-common-styles",name:j,onChange:function(e){t(e.target.value)},children:[Object(i.jsx)("option",{value:"",children:"\ud83c\udf1a"}),u.map((function(e,t){return Object(i.jsx)("option",{name:j,value:e,className:"mood",children:e},t)}))]})})),B={addFilterName:function(e){return{type:E,payload:e}},clearFilters:function(){return{type:I}}},Q=Object(m.b)((function(e){return{filterName:e.filterNotes.filterName}}),B)((function(e){var t=e.addFilterName,a=e.filterName,o=e.clearFilters;return Object(i.jsxs)("div",{className:"filters",children:[Object(i.jsx)("input",{className:"input-common-styles filters-search",name:"searchByName",value:a,placeholder:"Search",onChange:function(e){t(e.target.value)},autoComplete:"off"}),Object(i.jsx)(R,{}),Object(i.jsx)("button",{className:"btn-common-styles clear-filters-btn",onClick:o,children:"Clear Filters"})]})})),W=(a(39),{closeModal:function(){return{type:M}}}),H=Object(m.b)((function(e){return{isOpen:e.modalData.isOpen,modalMood:e.modalData.defaultValue.modalMood,modalName:e.modalData.defaultValue.modalName,modalDate:e.modalData.defaultValue.modalDate,modalImgUrl:e.modalData.defaultValue.modalImgUrl,modalImgAuthor:e.modalData.defaultValue.modalImgAuthor,modalDescription:e.modalData.defaultValue.modalDescription}}),W)((function(e){var t=e.isOpen,a=e.modalMood,o=e.modalName,n=e.modalDate,r=e.modalImgUrl,l=e.modalImgAuthor,s=e.modalDescription,d=e.closeModal;return t?c.a.createPortal(Object(i.jsxs)("div",{className:"modal-wrapper",children:[Object(i.jsx)("div",{onClick:d,className:"modal-backdrop"}),Object(i.jsxs)("div",{className:"modal-box",children:[Object(i.jsx)("button",{onClick:function(){return d()},className:"modal-close"}),Object(i.jsxs)("div",{className:"modal-box-heading",children:[Object(i.jsx)("span",{className:"modal-mood",children:a}),Object(i.jsx)("span",{className:"modal-titel",children:o}),Object(i.jsx)("span",{className:"modal-date",children:n})]}),Object(i.jsxs)("div",{className:"modal-box-main",children:[Object(i.jsx)("div",{className:"modal-img-wrapper",children:Object(i.jsx)("img",{src:r,className:"modal-img",alt:l})}),Object(i.jsx)("p",{className:"modal-description",children:s})]})]})]}),document.getElementById("modal-root")):null})),z={loadFromLocalStorage:U,deleteFromLocalNotes:function(e){return{type:C,payload:e}},openModal:function(){return{type:L}},addModalData:function(e){return{type:V,payload:e}}},q=Object(m.b)((function(e){return{localNotes:e.localData.localNotes,filterName:e.filterNotes.filterName,filterMood:e.filterNotes.filterMood}}),z)((function(e){var t=e.localNotes,a=e.filterName,n=e.filterMood,r=e.loadFromLocalStorage,c=e.deleteFromLocalNotes,l=e.openModal,s=e.addModalData;Object(o.useEffect)((function(){0===t.length&&r()}),[t.length,r]);var d=t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})).filter((function(e){return e.mood.includes(n)})),m=function(e){e.stopPropagation();var a=parseInt(e.target.offsetParent.id),o=t.filter((function(e){return e.id!==a}));c(o)},u=[];u=0===a.length&&0===n.length?t:d;var h=function(e){var t=e.currentTarget.childNodes[1].innerText,a=e.currentTarget.lastChild.childNodes[0].innerText,o=e.currentTarget.lastChild.childNodes[1].innerText,n=e.currentTarget.childNodes[0].dataset.srclarge,r=e.currentTarget.childNodes[0].alt,c=e.currentTarget.lastChild.childNodes[2].innerText;s({modalMood:t,modalName:a,modalDate:o,modalImgUrl:n,modalImgAuthor:r,modalDescription:c}),l()};return u.length?Object(i.jsxs)("div",{className:"notes",children:[u.map((function(e,t){return Object(i.jsxs)("div",{id:e.id,className:"note",onClick:h,children:[Object(i.jsx)("img",{className:"note-img",width:"100%",height:"100%",alt:e.imgData.imgAuthor,src:e.imgData.imgUrl,"data-srclarge":e.imgData.imgSrcLarge}),e.mood?Object(i.jsx)("span",{className:"note-mood",children:e.mood}):"",Object(i.jsx)("span",{className:"note-delete",onClick:m}),Object(i.jsxs)("div",{className:"info-box",children:[Object(i.jsx)("span",{className:"info-titel",children:e.name}),Object(i.jsx)("span",{className:"info-date",children:e.date}),Object(i.jsx)("p",{className:"info-description",children:e.description})]})]},t)})),Object(i.jsx)(H,{})]}):Object(i.jsx)("div",{className:"empty",children:"Nothing is found."})})),J=(a(40),function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsx)(Q,{}),Object(i.jsx)(q,{})]})}),X=function(e){var t=e.handleChange;return Object(i.jsxs)("select",{className:"data-form-select select-common-styles",name:j,onChange:t,children:[Object(i.jsx)("option",{value:"",children:"\ud83c\udf1a"}),u.map((function(e,t){return Object(i.jsx)("option",{name:j,value:e,className:"mood",children:e},t)}))]})},Z=function(e){var t=e.name,a=e.date,o=e.description,n=e.imgUrl,r=e.imgAuthor,c=e.isPhotoAdded,l=e.isNameValid,s=e.isPhotoValid,d=e.handleChange,m=e.handleFormSubmit;return Object(i.jsxs)("form",{className:"new-note-form",onSubmit:m,children:[Object(i.jsx)("input",{className:l?"new-note-name input-common-styles":"new-note-name input-common-styles required",type:"text",name:h,value:t,placeholder:"Name is required",onChange:d,autoComplete:"off"}),Object(i.jsx)(X,{handleChange:d}),Object(i.jsx)("input",{className:"new-note-date input-common-styles",type:"date",name:p,value:a,onChange:d}),Object(i.jsx)("textarea",{className:"new-note-description input-common-styles",type:"text",name:g,value:o,placeholder:"Description",onChange:d}),Object(i.jsxs)("div",{className:"form-btn-wrapper",children:[Object(i.jsx)("button",{className:"btn-common-styles clear-form-btn",type:"button",name:f,onClick:d,children:"clear form"}),Object(i.jsx)("button",{className:"btn-common-styles save-note-btn",type:"submit",children:"save"})]}),Object(i.jsx)("div",{className:"selected-photo-wrapper",children:c?Object(i.jsx)("div",{className:"selected-photo",children:Object(i.jsx)("img",{className:"new-note-photo",src:n,alt:r})}):Object(i.jsx)("p",{className:s?"warn-text":"warn-text required",children:"Photo is required"})})]})},G=(a(41),function(){return Object(i.jsx)("div",{className:"loader",children:Object(i.jsx)("div",{className:"lds-dual-ring"})})}),Y=function(e){var t=e.images,a=e.handleOnImgClick;return Object(i.jsx)(i.Fragment,{children:t&&t.map((function(e){return Object(i.jsx)("div",{className:"new-note-photo-wrapper",children:Object(i.jsx)("img",{"data-id":e.id,src:e.src.medium,"data-srclarge":e.src.large,className:"new-note-photo",width:"100%",height:"100%",alt:"Provided by Pexels, photographer - ".concat(e.photographer),onClick:a})},e.id)}))})},K={fetchImages:function(e){var t="https://api.pexels.com/v1/search?query=".concat(e,"&orientation=landscape&page_1&per_page=20");return function(){var e=Object(F.a)(T.a.mark((function e(a){var o,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:v,payload:"start"}),e.next=4,fetch(t,{headers:{Authorization:"563492ad6f91700001000001c8655c6860ff444ca8f5073c762aa187"}});case 4:return o=e.sent,e.next=7,o.json();case 7:n=e.sent,a(P(n)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0),a((r=e.t0,{type:y,payload:r}));case 15:case"end":return e.stop()}var r}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},loadFromLocalStorage:U},$=Object(m.b)((function(e){return{imgUrl:e.newNote.imgUrl,imgAuthor:e.newNote.imgAuthor,imgId:e.newNote.imgId,loading:e.fetchImages.loading,images:e.fetchImages.fetchedImages,searchQuery:e.fetchImages.searchQuery,searchValue:e.fetchImages.searchValue,localNotes:e.localData.localNotes}}),K)((function(e){var t=e.loading,a=e.images,n=e.fetchImages,r=e.loadFromLocalStorage,c=e.handleChange,l=e.handleOnImgClick,s=e.searchQuery,d=e.searchValue,m=e.localNotes;Object(o.useEffect)((function(){0===m.length&&r(),0===d.length&&n(s)}),[m.length,d.length,r,n,s]);return Object(i.jsxs)("form",{className:"search-form",children:[Object(i.jsx)("input",{className:"new-note-search input-common-styles",type:"text",name:A,value:d,placeholder:"Search",onChange:c,autoComplete:"off",required:!0}),Object(i.jsx)("button",{className:"search-btn",onClick:function(e){e.preventDefault(),d.length&&n(d)}}),Object(i.jsxs)("div",{className:"new-note-photos",children:[t?Object(i.jsx)(G,{}):Object(i.jsx)("div",{className:"loader"}),Object(i.jsx)(Y,{images:a,handleOnImgClick:l})]})]})})),ee=(a(42),{addNewName:function(e){return{type:h,payload:e}},addNewMood:function(e){return{type:j,payload:e}},addNewDate:function(e){return{type:p,payload:e}},addNewDescription:function(e){return{type:g,payload:e}},addNewImgData:function(e){return{type:b,payload:e}},validateName:function(){return{type:O}},validatePhoto:function(){return{type:N}},clearFormData:function(){return{type:f}},addSearchValue:function(e){return{type:A,payload:e}},saveToLocalStorage:function(e){return{type:w,payload:e}}}),te=Object(m.b)((function(e){return{name:e.newNote.name,mood:e.newNote.mood,date:e.newNote.date,description:e.newNote.description,imgUrl:e.newNote.imgData.imgUrl,imgAuthor:e.newNote.imgData.imgAuthor,imgSrcLarge:e.newNote.imgData.imgSrcLarge,isPhotoAdded:e.newNote.imgData.isPhotoAdded,isNameValid:e.newNote.isNameValid,isPhotoValid:e.newNote.isPhotoValid}}),ee)((function(e){var t=e.name,a=e.mood,o=e.date,n=e.description,r=e.imgUrl,c=e.imgAuthor,l=e.imgSrcLarge,s=e.isPhotoAdded,m=e.isNameValid,u=e.isPhotoValid,b=e.addNewName,O=e.addNewMood,N=e.addNewDate,v=e.addNewDescription,x=e.addNewImgData,y=e.validateName,D=e.validatePhoto,w=e.clearFormData,C=e.addSearchValue,E=e.saveToLocalStorage,S=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;switch(t){case h:b(a),y();break;case j:return O(a);case p:return N(a);case g:return v(a);case f:return w();case A:return C(a.trimStart())}},I=function(){var e=Math.random().toString().split(".");return parseInt(e[1])};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(d,{}),Object(i.jsxs)("div",{className:"forms-wrapper",children:[Object(i.jsx)(Z,{handleFormSubmit:function(e){if(e.preventDefault(),y(),D(),t.length&&s){var i={id:I(),name:t,mood:a,date:o,description:n,imgData:{imgUrl:r,imgAuthor:c,imgSrcLarge:l,isPhotoAdded:!1}};E(i),w()}},handleChange:S,name:t,date:o,description:n,imgUrl:r,imgAuthor:c,isPhotoAdded:s,isNameValid:m,isPhotoValid:u}),Object(i.jsx)($,{handleChange:S,handleOnImgClick:function(e){e.preventDefault(),x({imgUrl:e.target.src,imgAuthor:e.target.alt,imgSrcLarge:e.target.dataset.srclarge,isPhotoAdded:!0}),D()}})]})]})})),ae=(a(43),function(){return Object(i.jsxs)(l.a,{children:[Object(i.jsx)(s.a,{path:"/",exact:!0,component:J}),Object(i.jsx)(s.a,{path:"/new-note",component:te})]})}),oe=a(10),ne=a(2),re=(new Date).toISOString().substr(0,10).toString(),ce={id:"",name:"",mood:"",date:re,description:"",imgData:{imgUrl:"",imgAuthor:"",imgSrcLarge:"",isPhotoAdded:!1},isNameValid:!0,isPhotoValid:!0},le={fetchedImages:[],loading:!1,error:!1,searchQuery:"landscape",searchValue:""},se=a(23),ie={localNotes:[]},de={filterName:"",filterMood:""},me={isOpen:!1,defaultValue:{modalMood:"",modalName:"",modalDate:"",modalImgUrl:"",modalImgAuthor:"",modalDescription:""}},ue=Object(oe.c)({newNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(ne.a)(Object(ne.a)({},e),{},{name:t.payload});case j:return Object(ne.a)(Object(ne.a)({},e),{},{mood:t.payload});case p:return Object(ne.a)(Object(ne.a)({},e),{},{date:t.payload});case g:return Object(ne.a)(Object(ne.a)({},e),{},{description:t.payload});case b:return Object(ne.a)(Object(ne.a)({},e),{},{imgData:t.payload});case f:return Object(ne.a)(Object(ne.a)({},e),{},{id:"",name:"",mood:"",date:re,description:"",imgData:{imgUrl:"",imgAuthor:"",imgSrcLarge:"",isPhotoAdded:!1},isNameValid:!0,isPhotoValid:!0});case O:return e.name.length?Object(ne.a)(Object(ne.a)({},e),{},{isNameValid:!0}):Object(ne.a)(Object(ne.a)({},e),{},{isNameValid:!1});case N:return e.imgData.isPhotoAdded?Object(ne.a)(Object(ne.a)({},e),{},{isPhotoValid:!0}):Object(ne.a)(Object(ne.a)({},e),{},{isPhotoValid:!1});default:return e}},fetchImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!0,error:!1});case x:var a=t.payload.photos;return Object(ne.a)(Object(ne.a)({},e),{},{fetchedImages:a,loading:!1,error:!1});case y:return Object(ne.a)(Object(ne.a)({},e),{},{loading:!1,error:!0});case A:return Object(ne.a)(Object(ne.a)({},e),{},{searchValue:t.payload});default:return e}},localData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(ne.a)(Object(ne.a)({},e),{},{localNotes:t.payload.localNotes});case w:var a=JSON.stringify({localNotes:[].concat(Object(se.a)(e.localNotes),[t.payload])});return localStorage.setItem("localNotes",a),Object(ne.a)(Object(ne.a)({},e),{},{localNotes:[].concat(Object(se.a)(e.localNotes),[t.payload])});case C:var o=JSON.stringify({localNotes:t.payload});return t.payload.length?localStorage.setItem("localNotes",o):localStorage.clear(),Object(ne.a)(Object(ne.a)({},e),{},{localNotes:t.payload});default:return e}},filterNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(ne.a)(Object(ne.a)({},e),{},{filterName:t.payload});case S:return Object(ne.a)(Object(ne.a)({},e),{},{filterMood:t.payload});case I:return Object(ne.a)(Object(ne.a)({},e),{},{filterName:"",filterMood:""});default:return e}},modalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ne.a)(Object(ne.a)({},e),{},{isOpen:!0});case M:return Object(ne.a)(Object(ne.a)({},e),{},{isOpen:!1});case V:return Object(ne.a)(Object(ne.a)({},e),{},{defaultValue:t.payload});default:return e}}}),he=a(26),je=Object(oe.e)(ue,Object(oe.d)(Object(oe.a)(he.a),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__():oe.d));c.a.render(Object(i.jsx)(n.a.StrictMode,{children:Object(i.jsx)(m.a,{store:je,children:Object(i.jsx)(ae,{})})}),document.getElementById("app-root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.c658051d.chunk.js.map